---
import BaseLayout from "../../layouts/BaseLayout.astro";
---

<BaseLayout lang="en" title="Contact">
  <h1 style="margin-top:0;">Contact</h1>

  <p class="lead">
    Want to discuss a project, collaboration, or partnership?
    Reach out — we’ll suggest a reasonable next step.
  </p>

  <div class="section">
    <h2>contact</h2>

    <div class="card">
      <div class="kicker">email</div>

      <div class="email-row">
        <h3>
          <a
            href="mailto:hello@rocketdeploy.dev"
            target="_blank"
            rel="noopener"
            class="email-link"
          >
            hello@rocketdeploy.dev
          </a>
        </h3>

        <div class="email-actions">
          <button
            class="icon-btn"
            aria-label="Copy email address"
            title="Copy"
            type="button"
            onclick="window.copyEmail(this)"
          >
            ⧉
          </button>

          <a
            class="icon-btn"
            href="mailto:hello@rocketdeploy.dev"
            target="_blank"
            rel="noopener"
            aria-label="Write email"
            title="Write"
          >
            ✉
          </a>
        </div>
      </div>

      <p>
        Entry point for collaboration discussions.
      </p>
    </div>
  </div>

  <div class="section">
    <h2>where to find us</h2>

    <div class="grid" style="grid-template-columns: repeat(2, 1fr);">
      <a
        class="card"
        href="https://github.com/rocketdeploy-dev"
        target="_blank"
        rel="noreferrer"
        style="border-bottom:none;"
      >
        <div class="kicker">link</div>
        <h3>GitHub</h3>
        <p>Code, approach, and public projects.</p>
      </a>

      <div class="card">
        <div class="kicker">info</div>
        <h3>Engagement</h3>
        <p>
          Details about our process are described in “How we work”.
        </p>
      </div>
    </div>
  </div>

  <script is:inline>
    window.copyEmail = async (button) => {
      if (!(button instanceof HTMLButtonElement)) return;

      const email = "hello@rocketdeploy.dev";
      const original = button.textContent ?? "⧉";

      const showTick = () => {
        button.textContent = "✔";
        button.disabled = true;
        setTimeout(() => {
          button.textContent = original;
          button.disabled = false;
        }, 1500);
      };

      try {
        if (navigator.clipboard && window.isSecureContext) {
          await navigator.clipboard.writeText(email);
        } else {
          const ta = document.createElement("textarea");
          ta.value = email;
          ta.setAttribute("readonly", "");
          ta.style.position = "fixed";
          ta.style.opacity = "0";
          document.body.appendChild(ta);
          ta.focus();
          ta.select();
          document.execCommand("copy");
          document.body.removeChild(ta);
        }
      } catch (err) {
        console.warn("Copy failed:", err);
      }

      showTick();
    };
  </script>
</BaseLayout>